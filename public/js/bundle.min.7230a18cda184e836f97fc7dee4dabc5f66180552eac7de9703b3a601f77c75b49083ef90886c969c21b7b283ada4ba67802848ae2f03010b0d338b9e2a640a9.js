(()=>{document.addEventListener("DOMContentLoaded",e=>{console.log("DOMContentLoaded event triggered");const t=document.querySelector(".toggle-bio"),n=document.querySelector(".bio-expand"),s=document.querySelector(".arrow");console.log("toggleBio:",t),console.log("bioExpand:",n),console.log("arrow:",s),t&&n&&s&&t.addEventListener("click",e=>{console.log("toggleBio clicked"),e.preventDefault(),n.classList.toggle("hidden"),n.classList.contains("hidden")?t.textContent="Show more ↓":t.textContent="Show less ↑"})})})(),(()=>{var e;function n(){return new Promise(e=>{const t=()=>{window.Fuse?e(window.Fuse):setTimeout(t,100)};t()})}function t(){if(!e)return;const s=document.getElementById("search-input"),o=document.getElementById("clear-search-btn");if(!s||!o)return;const t=s.value;o.classList.toggle("hidden",!t);const i=document.querySelectorAll("#assortment .flex-item");if(t.trim()===""){i.forEach(e=>{e.style.display="block"});return}const a=e.search(t),n=new Set;a.forEach(e=>{e.item.images.forEach(e=>{n.add(e.url)}),e.item.videos.forEach(e=>{n.add(e.url)})}),i.forEach(e=>{const t=e.getAttribute("data-url");n.has(t)?e.style.display="block":e.style.display="none"})}async function s(){try{await n();const t=await fetch("/index.json"),s=await t.json();e=new Fuse(s,{keys:["title","description","year","role","collaborators","images.caption","videos.caption","tags","location","alt"],threshold:.1})}catch(e){console.error("Error initializing search:",e)}}document.addEventListener("DOMContentLoaded",function(){s();const e=document.getElementById("search-input"),n=document.getElementById("clear-search-btn");e&&e.addEventListener("input",t),n&&n.addEventListener("click",()=>{e&&(e.value="",t())})})})(),(()=>{var e;function n(){return"ontouchstart"in window||navigator.maxTouchPoints>0}function t(){return{r:Math.random(),g:Math.random(),b:Math.random()}}function s(){document.querySelectorAll("img, video").forEach(function(e){if(!e.parentElement.classList.contains("media-wrapper")){const n=document.createElement("div");n.classList.add("media-wrapper"),n.style.position="relative",n.style.display="inline-block";const t=e.cloneNode(!0);t.classList.add("duotone-media"),t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.opacity="0",t.style.transition="opacity 2s ease-in-out",t.style.pointerEvents="none",e.tagName.toLowerCase()==="video"&&(t.muted=!0,t.playbackRate=e.playbackRate,e.addEventListener("play",()=>t.play()),e.addEventListener("pause",()=>t.pause()),e.addEventListener("timeupdate",()=>{Math.abs(t.currentTime-e.currentTime)>.1&&(t.currentTime=e.currentTime)})),e.parentNode.insertBefore(n,e),n.appendChild(e),n.appendChild(t)}})}function o(){const o="duotone-filter-"+Date.now(),e=t(),n=t(),i=document.querySelectorAll("svg");i.forEach(e=>e.remove());const s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.style.display="none",s.innerHTML=`
        <defs>
            <filter id="${o}">
                <feColorMatrix type="matrix"
                    values="0.333 0.333 0.333 0 0
                            0.333 0.333 0.333 0 0
                            0.333 0.333 0.333 0 0
                            0 0 0 1 0" />
                
                <feComponentTransfer color-interpolation-filters="sRGB">
                    <feFuncR type="table" tableValues="${e.r} ${n.r}"/>
                    <feFuncG type="table" tableValues="${e.g} ${n.g}"/>
                    <feFuncB type="table" tableValues="${e.b} ${n.b}"/>
                </feComponentTransfer>
            </filter>
        </defs>
    `,document.body.appendChild(s),document.querySelectorAll(".duotone-media").forEach(function(e){e.style.filter=`url(#${o})`,e.style.opacity="1"})}function i(){document.querySelectorAll(".duotone-media").forEach(function(e){e.style.opacity="0"})}document.addEventListener("DOMContentLoaded",function(){n()||(s(),window.addEventListener("mousemove",function(){i(),clearTimeout(e),e=setTimeout(o,8e3)}))})})(),(()=>{var n=!1,t=window.scrollY,e=window.scrollY,o=.075;window.addEventListener("wheel",o=>{o.preventDefault(),n||(e=window.scrollY),t=Math.max(0,Math.min(t+o.deltaY,document.documentElement.scrollHeight-window.innerHeight)),n||(n=!0,s())},{passive:!1});function s(){const i=t-e,a=Math.abs(i)<.1?i:i*o;if(e+=a,window.scrollTo(0,Math.round(e)),Math.abs(t-e)<.1){n=!1;return}requestAnimationFrame(s)}document.addEventListener("DOMContentLoaded",()=>{e=window.scrollY,t=window.scrollY})})()